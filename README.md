# Node.js Express MongoDB OTP & Authentication App

### Creator: iamkoushik1999

This is a Node.js application using Express and MongoDB to implement a secure user authentication system with One-Time Passwords (OTP) and 2-factor authentication (2FA) using an authentication app like Authy. The app provides both user and admin functionality for managing OTP-based authentication.

## Features

### User Flow

1. **Signup with Email and Password (OTP Verification)**:

   - Users can sign up by providing their email and password.
   - Upon registration, the system generates and sends an OTP (One-Time Password).
   - The user enters the OTP to verify their email and complete the signup process.

2. **View Login History**:

   - After logging in, the user can view their login history, including details like login time, and successful login.

3. **Login with OTP (First Time Login)**:

   - Users will enter their email to get an OTP.
   - Then Enter the OTP to verify their identity
   - The user enters the OTP to gain access to the application.

4. **Connect with Authentication App (Authy or similar)**:

   - Once the user logs in successfully for the first time, they will be prompted to connect to an authentication app such as Authy for 2FA.
   - This step enables the user to secure their account further by linking a 2FA app for generating authentication codes.

5. **Login with Authentication App**:
   - The user must enter a 2FA code generated by their authentication app (e.g., Authy) to successfully log in.

---

### Admin Flow

1. **Admin Dashboard**:

   - The admin can access a dashboard that provides a list of all registered users in the system.
   - The admin can view user details such as email, signup date, OTP, and Code verification status.

2. **User Verification Management**:
   - The admin can change the user's OTP and authentication code verification status.
   - The admin can enable or disable OTP or authentication app verification for any user.

## Environment Variables

You need to set up the following environment variables for the application to work:

```env
# NODE_ENV
NODE_ENV = "development"
# NODE_ENV = "production"

# MongoDB URLs for different environments
MONGODB_URL_DEV = <your_development_mongodb_url>
MONGODB_URL_PROD = <your_production_mongodb_url>

# JWT Secret Key used for signing JSON Web Tokens
JWT_SECRET = <your_jwt_secret>

```
